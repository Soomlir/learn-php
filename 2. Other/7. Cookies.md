# Куки PHP
Работа с куками (cookies) в PHP — это важный аспект веб-разработки, когда нужно сохранить данные на стороне клиента (в браузере пользователя). Куки часто используются для хранения информации о сессии, авторизации, предпочтениях пользователя и т.д.

## Установка куки
Для установки куки используется функция setcookie():
```php
setcookie(
    string $name,
    string $value = "",
    int $expires_or_options = 0,
    string $path = "",
    string $domain = "",
    bool $secure = false,
    bool $httponly = false
): bool
```

```php
<?php
// Установим куку "user" сроком на 1 час
setcookie("user", "Ivan", time() + 3600, "/");

// После этой команды кука будет доступна при следующем запросе
echo "Кука установлена";
?>
```

setcookie() должен быть вызван до любого вывода на экран (echo, print, HTML и т.д.), т.к. он отправляет HTTP-заголовки.

## Чтение куки
Все куки автоматически попадают в суперглобальный массив $_COOKIE.
```php
<?php
if (isset($_COOKIE["user"])) {
    echo "Привет, " . $_COOKIE["user"];
} else {
    echo "Кука 'user' не установлена.";
}
?>
```

## Удаление куки
Чтобы удалить куку, нужно установить её с истекшим временем:
```php
<?php
setcookie("user", "", time() - 3600, "/");
echo "Кука удалена";
?>
```

## Безопасность
- httponly — предотвращает доступ к куке через JavaScript.
- secure — кука передаётся только по HTTPS.
- samesite — ограничивает отправку куки с кросс-доменных запросов.

## Пример с параметрами безопасности (PHP 7.3+):
```php
<?php
setcookie("auth", "secret-token", [
    "expires" => time() + 3600,
    "path" => "/",
    "domain" => "example.com",
    "secure" => true,
    "httponly" => true,
    "samesite" => "Strict"
]);
?>
```

## Полезные советы
- Не храните в куках чувствительные данные (например, пароли).
- Проверяйте, что куки пришли от клиента через `isset($_COOKIE['имя'])`.
- Учитывайте, что куки отправляются на сервер при каждом запросе, поэтому не злоупотребляйте их размером (ограничение обычно 4 КБ на куку).
