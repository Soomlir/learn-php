# Позднее статическое связывание
Позднее статическое связывание (Late Static Binding, LSB) в PHP — это механизм, который позволяет при вызове статических методов или обращении к статическим свойствам использовать текущий класс, в контексте которого выполняется код, а не класс, в котором был написан метод. Это важно для правильной работы наследования и полиморфизма при статических вызовах.

## Контекст и проблема
Рассмотрим пример без LSB:
```php
class A {
    public static function who() {
        echo __CLASS__;
    }
    public static function test() {
        self::who();  // Используется self
    }
}

class B extends A {
    public static function who() {
        echo __CLASS__;
    }
}

B::test();  // Что выведет?
```

Что выведет?
- Выведется A, потому что self::who() ссылается на класс, в котором написан метод test(), то есть класс A.
- Несмотря на то, что вызов идет из B, метод test в A использует self, который жестко привязан к классу A.

## Решение с LSB
PHP начиная с версии 5.3 ввел позднее статическое связывание с ключевым словом static::, которое указывает на класс, из которого был вызван метод.

Перепишем пример:
```php
class A {
    public static function who() {
        echo __CLASS__;
    }
    public static function test() {
        static::who();  // Используем позднее статическое связывание
    }
}

class B extends A {
    public static function who() {
        echo __CLASS__;
    }
}

B::test();  // Теперь выведет B
```

Теперь при вызове B::test() используется static::who(), который указывает на класс B — текущий вызывающий класс, а не класс A, в котором определён метод test().

## Основные моменты
- self:: — указывает на класс, где объявлен метод (жесткое связывание).
- static:: — указывает на класс, от имени которого производится вызов (позднее статическое связывание).
- Позволяет реализовать шаблоны проектирования и правильную работу с наследованием для статических методов и свойств.
